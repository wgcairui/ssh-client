# 更新日志

## [v1.0.8] - 2025-01-21

### ✨ 新增功能
- **字体设置系统**：完整的字体自定义功能
  - 支持字体大小调整（8-50pt范围）
  - 支持字体家族选择
  - 支持字体权重设置
  - 终端字体独立设置
  - 实时预览和应用

- **主题系统**：完善的主题管理
  - 暗色模式支持
  - 系统主题跟随
  - 主题切换功能
  - 自定义主题色彩

- **应用设置页面**：新增设置界面
  - 字体和主题设置
  - 实时预览效果
  - 重置为默认设置
  - 设置持久化存储

### 🎨 UI/UX 改进
- **响应式字体系统**：全面优化界面文字显示
  - 所有文本组件支持字体设置响应
  - 左侧边栏使用0.6x字体缩放
  - 图标大小跟随字体设置缩放
  - 布局自适应字体大小变化

- **界面布局优化**：改善平板使用体验
  - 左侧面板折叠宽度增加（120w→180w）
  - 标签页栏高度增加（48h→60h）
  - 添加按钮宽度增加（48w→72w）
  - 连接项菜单功能整合

- **功能集成优化**：简化操作流程
  - 在连接项菜单中添加文件传输功能
  - 在连接项菜单中添加断开连接功能
  - 移除重复的操作按钮
  - 统一操作入口

### 🐛 问题修复
- **字体崩溃修复**：解决字体设置导致的应用崩溃
  - 修复TextTheme.apply()空指针异常
  - 改用手动TextTheme构建方式
  - 添加字体大小有效性验证
  - 优化设置加载和保存逻辑

- **状态管理优化**：改善应用稳定性
  - 添加控制器生命周期管理
  - 修复内存泄漏问题
  - 优化异步操作处理

### 🔧 技术改进
- **新增控制器**：AppSettingsController管理应用设置
- **新增数据模型**：FontSettings和ThemeSettings
- **设置持久化**：使用SharedPreferences保存用户设置
- **响应式设计**：全面支持不同字体大小的界面适配

## [v1.0.7] - 2025-01-21

### 🔧 权限管理优化
- **Android权限完善**：全面的存储和安装权限管理
  - 添加WRITE_EXTERNAL_STORAGE权限（Android 9及以下）
  - 添加REQUEST_INSTALL_PACKAGES权限
  - FileProvider配置用于APK安装
  - 版本兼容的权限请求策略

## [v1.0.2] - 2025-01-21

### ✨ 新增功能
- **自动更新系统**：完整的应用自动更新功能
  - 启动时自动检查更新
  - 手动触发更新检查
  - GitHub Releases 集成
  - APK 自动下载和安装引导
  - 支持稳定版和测试版（预发布）选择
  - 可配置检查间隔（6-72小时）
  - 更新进度显示和错误处理
  
- **设置菜单**：新增主界面设置入口
  - 自动更新设置页面
  - 关于应用信息对话框
  - 底部弹出式菜单设计

### 🎨 UI/UX 改进
- **平板适配优化**：针对 OPPO Pad 4 Pro 进一步优化
  - 图标尺寸增大（16sp→20sp，18sp→24sp）
  - 左侧面板宽度优化（380w→480w 展开，60w→80w 折叠）
  - 字体大小调整，提升可读性
  
- **更新提示界面**：美观的更新对话框
  - 版本信息展示
  - 更新内容说明
  - 下载进度条
  - 状态指示和操作按钮
  - 测试版标识

### 🔧 技术改进
- **新增依赖**：
  - `http: ^1.2.0` - 网络请求和文件下载
  - `package_info_plus: ^8.0.2` - 应用版本信息
  - `shared_preferences: ^2.2.2` - 设置数据持久化
  - `permission_handler: ^11.3.0` - 权限管理
  - `path_provider: ^2.1.2` - 文件路径管理

- **新增模块**：
  - `AppVersion` 模型：版本信息数据结构
  - `UpdateService` 服务：GitHub API 集成和文件下载
  - `UpdateController` 控制器：更新流程状态管理
  - `UpdateDialog` 组件：更新提示界面
  - `UpdateSettingsView` 页面：更新配置界面

### 🐛 修复问题
- **代码质量**：修复 Flutter 分析器警告
  - 移除未使用的方法
  - 更新过时的 API 调用（withOpacity → withValues）
  - 修复不必要的字符串插值大括号
  - 更新主题色彩 API（surfaceVariant → surfaceContainerHighest）
  - 移除不必要的非空断言

### 📱 GitHub Actions 改进
- **并发控制**：添加工作流并发控制，自动取消旧的运行
- **权限配置**：添加 `contents: write` 权限支持 Release 创建
- **智能触发**：仅在 `feat:` 提交时触发开发版本发布

## [v1.0.1] - 2024-12-XX

### 🎯 核心功能实现
- **多标签页支持**：同时管理最多 8 个 SSH 连接
- **文件传输功能**：完整的 SFTP 上传下载功能
- **连接管理优化**：连接复用和状态管理改进
- **UI 响应式优化**：平板横竖屏布局适配

## [v1.0.0] - 2024-11-XX

### 🚀 首次发布
- **基础 SSH 功能**：密码和密钥认证
- **终端模拟器**：xterm 集成
- **连接管理**：增删改查连接配置
- **平板优化**：专为 OPPO Pad 4 Pro 设计
- **响应式布局**：分屏和堆叠布局支持

---

## 版本规范
- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修复

## 更新类型
- ✨ 新增功能
- 🎨 UI/UX 改进  
- 🐛 修复问题
- 🔧 技术改进
- 📱 平台特性
- 🚀 性能优化
- 📝 文档更新